<?xml version="1.0" encoding="UTF-8" ?>
<!-- Informando versão do xml usado e Linguagem adotada -->
<!DOCTYPE html>

<!-- Inportando Pacotes com os objetos -->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html" />
	<title>SIGAC</title>
	<h:outputStylesheet library="css" name="estilos.css"></h:outputStylesheet>
</h:head>
<h:body>
	<p:growl id="mgs" sticky="true"/>
	
	<p:layout fullPage="true">

		<p:layoutUnit position="north" size="50">
			<h:form>
				<p:growl id="messages" />

				<h:panelGroup rendered="#{loginMB.usuario != null}">
					<p:menubar>
					<p:submenu label="Cadastros" icon="ui-icon-document">
						<p:submenu label="Usuários" icon="ui-icon-contact">
							<p:menuitem value="Coordenador" url="#" />
							<p:menuitem value="Aluno" url="#" />
							<p:menuitem value="Perfil" action="#{menuMB.navegar('/paginas/cadastroperfil.xhtml')}"/>
						</p:submenu>

						<p:menuitem value="Atividades" icon="ui-icon-gear"
							action="#{menuMB.navegar('/paginas/cadastroatividade.xhtml')}" />
						<p:separator />

						<p:submenu label="Tabelas do Sistema" icon="ui-icon-contact">
							<p:menuitem value="Periodo" url="#" />
							<p:menuitem value="Turma" action="#{menuMB.navegar('/paginas/cadastroturma.xhtml')}" />
							<p:menuitem value="Turno" url="#" />
							<p:menuitem value="Unidade" action="#{menuMB.navegar('/paginas/cadastrounidade.xhtml')}" />

						</p:submenu>
						<p:separator />
						<p:menuitem value="Voltar Tela Principal"
							action="#{menuMB.navegar('/templates/index.xhtml')}" icon="ui-icon-refresh" />
						<p:separator />
						<p:menuitem value="Sair" url="#" />
					</p:submenu>

					<p:submenu label="Consulta" icon="ui-icon-pencil">
						<p:menuitem value="Atividades Realizadas" url="#"
							icon="ui-icon-arrowreturnthick-1-w" />
						<p:menuitem value="Area do Aluno" url="#"
							icon="ui-icon-arrowreturnthick-1-e" />
					</p:submenu>

					<p:submenu label="Relatorios" icon="ui-icon-gear">
						<p:submenu label="Cadastros Gerais" icon="ui-icon-refresh">
							<p:menuitem value="Alunos" url="#" />
							<p:menuitem value="Coordenadores" url="#" />
							<p:menuitem value="Perfil" url="#" />
							<p:separator />
							<p:menuitem value="Periodo" url="#" />
							<p:menuitem value="Turma" url="#" />
							<p:menuitem value="Turno" url="#" />
							<p:menuitem value="Unidade" url="#" />
						</p:submenu>
						<p:submenu label="Non-Ajax" icon="ui-icon-newwin">
							<p:menuitem value="Delete" actionListener="#{menuView.delete}"
								icon="ui-icon-close" update="messages" ajax="false" />
						</p:submenu>
					</p:submenu>

					<p:submenu label="Ajuda" icon="ui-icon-help">
						<p:menuitem value="Sobre o Sistema" url="#" />
					</p:submenu>

					<p:menuitem value="Sair" url="#" icon="ui-icon-close" action="#{loginMB.sair}" update="@all" />

				</p:menubar>
				</h:panelGroup>
				<h:panelGroup id="login" rendered="#{loginMB.usuario.perfil == null}">
					<h:form>            
					    <h:outputLink value="javascript:void(0)" onclick="PF('dlg').show();" title="login"> teste
					        <p:graphicImage name="#{facesContext.externalContext.requestContextPath}/resources/imagens/login.png" />
					    </h:outputLink>
					 
					    <p:dialog id="dialogLogin" header="Login" widgetVar="dlg" resizable="false">
					        <h:panelGrid id="gridLoguin" columns="2" cellpadding="5">
					            <h:outputLabel for="username" value="Perfil:" />
					            <p:selectOneMenu value="#{loginMB.perfil}" effect="explode" >
									<f:selectItems value="#{applicationMB.listaPerfis}" var="status" itemLabel="#{status.descricao}" itemValue="#{status}" />
								</p:selectOneMenu>
					            
					            <h:outputLabel for="username" value="Username:" />
					            <p:inputText id="username" value="#{loginMB.username}" required="true" label="username" />
					 
					            <h:outputLabel for="password" value="Password:" />
					            <p:password id="password" value="#{loginMB.password}" required="true" label="password" />
					            
					            <f:facet name="footer">
					                <p:commandButton value="Login" actionListener="#{loginMB.login}" update="@all" />
					            </f:facet>  
					        </h:panelGrid>
					    </p:dialog>
					</h:form>
				</h:panelGroup>

			</h:form>
			<!-- <h:graphicImage alt="School" value="/resources/imagens/school.png" /> -->
		</p:layoutUnit>

		<p:layoutUnit position="center"
			style="background-image:url('#{facesContext.externalContext.requestContextPath}/resources/imagens/fundoMenu.jpg');
				background-position: 50% -50%;background-repeat:no-repeat">

			<ui:insert name="menuPrincipal" />
		</p:layoutUnit>

		<p:layoutUnit position="south" size="50" resizable="true"
			closable="false" collapsible="false">
			<h:outputText
				value="SIGAC - Sistema de Gestão de Atividades Complementares " />
			<h:graphicImage alt="Java" value="/resources/imagens/Java.png"></h:graphicImage>

		</p:layoutUnit>


	</p:layout>
</h:body>
</html>
